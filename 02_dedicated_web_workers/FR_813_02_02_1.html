<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
	<title>Web Worker 02</title>
		<script>
		window.onload = function(){
			var bt = document.getElementById('button')
			var txt = document.getElementById('texte')
			try {

					if (window.Worker) {
						var worker = new Worker("FR_813_02_02.js")
						worker.addEventListener('message', retourWorker, false);

						bt.addEventListener('click', function(evt){
							worker.postMessage(txt.value);
						}, false)

					} else {
						alert("Worker non pris en compte par le navigateur")
					}

				} catch(e) {
					alert("Worker non pris en compte par le navigateur")
				}
				
			function retourWorker(evt) {
			  console.log(evt.data);
			}
		}

		
		</script>
	</head>
	<body>
  
</body>
	<label for="texte">Texte:</label>
      <input type="text" name="texte" id="texte">
      <input type="button" name="button" id="button" value="Envoyer">
</html>